(()=>{var t={933:t=>{"use strict";t.exports=require("electron")},747:t=>{"use strict";t.exports=require("fs")},211:t=>{"use strict";t.exports=require("https")},622:t=>{"use strict";t.exports=require("path")}},e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={exports:{}};return t[n](r,r.exports,o),r.exports}(()=>{const{app:t,BrowserWindow:e,protocol:n,ipcMain:r}=o(933),i=o(747),s=o(622),a=o(211),u=["utf16le"];var c,p;c=u,p=395,function(t){for(;--t;)c.push(c.shift())}(++p);const f=function(t,e){return u[t-=0]}("0x0");function l(e){const o=["from"];var n,r;n=o,r=323,function(t){for(;--t;)n.push(n.shift())}(++r);let a=Buffer[function(t,e){return o[t-=0]}("0x0")](JSON.stringify(e)).toString(f);i.writeFile(s.join(t.getPath("userData"),"userdata.dat"),a,(t=>{if(t)throw t}))}let d,h;loadData=new Promise((function(e,o){i.existsSync(s.join(t.getPath("userData"),"userdata.dat"))?i.readFile(s.join(t.getPath("userData"),"userdata.dat"),((t,n)=>{let r;t&&o(t);try{const t=["from","utf8","parse"];i=t,s=147,function(t){for(;--t;)i.push(i.shift())}(++s);const e=function(e,o){return t[e-=0]};r=JSON[e("0x2")](Buffer[e("0x0")](String(n),"utf16le").toString(e("0x1")))}catch(t){try{r=JSON.parse(String(n)),l(r)}catch(t){l({points:0}),e({points:0})}}var i,s;e(r)})):(l({points:0}),e({points:0}))})),async function(){d=await loadData,(void 0===d.token||d.tokenExp<=Date.now())&&(d.token=(await(promise=new Promise(((t,e)=>{a.get("https://opentdb.com/api_token.php?command=request",(e=>{e.setEncoding("utf8");let o="";e.on("data",(t=>{o+=t})),e.on("end",(()=>{try{const e=JSON.parse(o);t(e)}catch(e){t(None)}}))}))})),promise)).token,d.tokenExp=Date.now()+18e6,l(d)),l(d)}(),r.on("get-data",(t=>{t.returnValue=d})),r.on("give-points",((t,e)=>{d.points+=e,l(d)})),t.on("ready",(async function(){h=new e({title:"Trivia Desktop",height:600,width:800,backgroundColor:"#17181c",webPreferences:{nodeIntegration:!0}}),h.removeMenu(),h.loadFile("static/logo.html"),h.webContents.on("before-input-event",((t,e)=>{e.control&&"i"===e.key.toLowerCase()&&(h.webContents.openDevTools(),t.preventDefault())})),await(3e3,new Promise((t=>setTimeout(t,3e3)))),h.loadFile("static/launcher.html")}))})()})();